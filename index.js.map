{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const apiKey = '48601287-44eda15d36b20e5cccdc82f7d';\nexport const searchPhotos = searchedValue => {\n  const params = new URLSearchParams({\n    key: apiKey,\n    q: searchedValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  return fetch(`https://pixabay.com/api/?${params.toString()}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    });\n};","export function createGallery(imageArr) {\n  return imageArr.map(\n    ({\n      webformatURL,\n      largeImageURL,\n      tags,\n      likes,\n      views,\n      comments,\n      downloads,\n    }) =>\n      `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n  </a>\n  <ul class=\"inform\">\n    <li class=\"inform-link\">\n      <h2 class=\"inform-title\">Likes:</h2>\n      <p class=\"inform-dan\">${likes}</p>\n    </li>\n    <li class=\"inform-link\">\n      <h2 class=\"inform-title\">Views:</h2>\n      <p class=\"inform-dan\">${views}</p>\n    </li>\n    <li class=\"inform-link\">\n      <h2 class=\"inform-title\">Comments:</h2>\n      <p class=\"inform-dan\">${comments}</p>\n    </li>\n    <li class=\"inform-link\">\n      <h2 class=\"inform-title\">Downloads:</h2>\n      <p class=\"inform-dan\">${downloads}</p>\n    </li>\n  </ul>\n</li>`\n  ).join('');\n}\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport {createGallery} from './js/render-functions';\nimport {searchPhotos} from \"./js/pixabay-api\";\n\nconst searchedValue = document.querySelector(\".input\");\nconst button = document.querySelector(\".button-submit\");\nconst gallery = document.querySelector(\".gallery\");\nconst form = document.querySelector('.group-form');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', imageSearch);\n\nloader.style.display = 'none';\n\nconst galleryModal = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\nfunction imageSearch (event) {\n    event.preventDefault();\n    gallery.innerHTML='';\n    if (!searchedValue.value.trim()) {\n        iziToast.error({\n          title: 'Error',\n          message: \"Please enter your search terms\",\n          position: 'topRight',\n          backgroundColor: '#ef4040',\n          messageColor: '#fff',\n          titleColor: '#fff',\n        });\n        return;\n      }\n    \n    loader.style.display = 'inline-block';\n\n    searchPhotos(searchedValue.value)\n    .then(sValue => {\n        if (sValue.hits.length === 0) {\n            iziToast.show({\n              title: '',\n              backgroundColor: '#EF4040',\n              messageColor: '#FFFFFF',\n              message: `Sorry, there are no images matching your search query. Please try again!`,\n              position: 'topCenter',\n            });\n        };\n        gallery.insertAdjacentHTML('beforeend', createGallery(sValue.hits));\n        galleryModal.refresh();\n        loader.style.display = 'none';\n    })\n    .catch(error => {\n        console.log(error.message)\n    })\n    .finally(() => {\n        loader.style.display = 'none';\n        form.reset();\n      });\n}\n\n"],"names":["apiKey","searchPhotos","searchedValue","params","response","createGallery","imageArr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","gallery","form","loader","imageSearch","galleryModal","SimpleLightbox","event","iziToast","sValue","error"],"mappings":"6vBAAA,MAAMA,EAAS,qCACFC,EAAeC,GAAiB,CAC3C,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,OAAO,MAAM,4BAA4BC,EAAO,SAAQ,CAAE,EAAE,EACzD,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,CACL,EChBO,SAASC,EAAcC,EAAU,CACtC,OAAOA,EAAS,IACd,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,kCAC4BL,CAAa;AAAA,sCACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,8BAKlCC,CAAK;AAAA;AAAA;AAAA;AAAA,8BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,8BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,8BAIRC,CAAS;AAAA;AAAA;AAAA,MAIvC,EAAI,KAAK,EAAE,CACX,CC1BA,MAAMX,EAAgB,SAAS,cAAc,QAAQ,EACtC,SAAS,cAAc,gBAAgB,EACtD,MAAMY,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAO,SAAS,cAAc,aAAa,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/CD,EAAK,iBAAiB,SAAUE,CAAW,EAE3CD,EAAO,MAAM,QAAU,OAEvB,MAAME,EAAe,IAAIC,EAAe,aAAc,CAClD,SAAU,GACV,aAAc,MACd,aAAc,GAClB,CAAC,EAED,SAASF,EAAaG,EAAO,CAGzB,GAFAA,EAAM,eAAc,EACpBN,EAAQ,UAAU,GACd,CAACZ,EAAc,MAAM,OAAQ,CAC7BmB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,iCACT,SAAU,WACV,gBAAiB,UACjB,aAAc,OACd,WAAY,MACtB,CAAS,EACD,MACD,CAEHL,EAAO,MAAM,QAAU,eAEvBf,EAAaC,EAAc,KAAK,EAC/B,KAAKoB,GAAU,CACRA,EAAO,KAAK,SAAW,GACvBD,EAAS,KAAK,CACZ,MAAO,GACP,gBAAiB,UACjB,aAAc,UACd,QAAS,2EACT,SAAU,WACxB,CAAa,EAELP,EAAQ,mBAAmB,YAAaT,EAAciB,EAAO,IAAI,CAAC,EAClEJ,EAAa,QAAO,EACpBF,EAAO,MAAM,QAAU,MAC/B,CAAK,EACA,MAAMO,GAAS,CACZ,QAAQ,IAAIA,EAAM,OAAO,CACjC,CAAK,EACA,QAAQ,IAAM,CACXP,EAAO,MAAM,QAAU,OACvBD,EAAK,MAAK,CAClB,CAAO,CACP"}